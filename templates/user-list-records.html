<!-- Prototype page for main user page -->
{% extends 'base.html' %}

{% block title %} Welcome back {{ username }} {% endblock %}

<!-- Insert stylesheets -->
{% block stylesheets %}
<link rel="stylesheet" href="/static/css/create_record.css"/>
{% endblock %}

<!-- Insert javascript -->
{% block scripts %}
<script src="/static/js/upload_records.js"></script>
{% endblock %}

<!-- Insert main contents -->
{% block content %}
{% include 'navbar.html' %}
{% include 'subnavbar-list-records.html' %}

<!-- Main contents -->
<table class="record-table fadeIn hidden" style="max-height:80vh">
<!-- Create records form -->
<td rowspan="2" style="width:45%;vertical-align:top;">
    <h2 style="font-weight: 900;">Patient Records</h2>
    <div class="sort">
    <select name="sortby" id="sortby" class="form-control">
      <option>Sort by: </option>
      <option value="nric">NRIC</option>
      <option value="name">Name</option>
      <option value="dnt">Date/Time</option>
      <option value="diagnosisR">Diagnosis Result</option>
    </select>
  </div>
<br>
<br>
  <table>
    <tr class="border">
      <th class="border">NRIC</th>
      <th class="border">Name</th>
      <th class="border">Date-Time</th>
      <th class="border">Diagnosis Result</th>
    </tr>
    {% for record in records %}
      <tr class="border">
        <td class="border">{{ record['patient_nric_fin'] }}</td>
        <td class="border">{{ record['name'] }}</td>
        <td class="border">{{ record['date_time'] }}</td>
        <td class="border" style="color: {{ 'red' if record['result'] == 'positive' else 'green'}}">{{ record['result'] }}</td>
      </tr>
    {% endfor %}
    </table>
</table>


{% endblock %}
